<div class="container" style="padding-top: 15px;">
    <mat-card class="example-card mat-elevation-z8">
        <div id="titulo">
            <button class="btn btn-outline-light btn-sm" style="float: left; margin-left: 10px;"
                [routerLink]="['/empleado']">
                Listar usuarios
            </button>
            <span>REGISTRAR DATOS DEL USUARIO</span>
        </div>
        <mat-horizontal-stepper [linear]="isLinear" #stepper>
            <mat-step [stepControl]="primeroFormGroup">
                <ng-template matStepLabel>
                    <mat-icon id="seccion_emple" matSuffix matTooltipPosition="right"
                        matTooltip="Sección 1: Datos Personales">
                        person_add
                    </mat-icon>
                </ng-template>
                <div class="subtitulo">
                    <span>Datos Personales</span>
                </div>
                <br>
                <div class="nota">
                    <span>
                        Por favor llenar todos los campos obligatorios (*) del formulario y dar click en Siguiente
                        para continuar.
                    </span>
                </div>
                <form [formGroup]="primeroFormGroup">
                    <div class="row">
                        <div class="col-md">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field>
                                    <mat-label>Nombres</mat-label>
                                    <input matInput placeholder="Ej: Kevin Alexander" type="text"
                                        formControlName="nombreForm" (keypress)="IngresarSoloLetras($event)" required>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar dos nombres del colaborador.">
                                        help_outline
                                    </mat-icon>
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Apellidos</mat-label>
                                    <input matInput placeholder="Ej: Curay Lasluisa" type="text"
                                        formControlName="apellidoForm" (keypress)="IngresarSoloLetras($event)" required>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar dos apellidos del colaborador.">
                                        help_outline
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field>
                                    <mat-label>Código</mat-label>
                                    <input matInput type="text" formControlName="codigoForm" [readonly]="escritura"
                                        (keypress)="IngresarSoloLetrasNumeros($event)" required maxlength="10">
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar el código del colaborador.">
                                        help_outline
                                    </mat-icon>
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>CI o Pasaporte</mat-label>
                                    <input matInput type="text" placeholder="1788300293" maxlength="10"
                                        formControlName="cedulaForm"
                                        oninput="if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                        (keypress)="IngresarSoloNumeros($event)" required
                                        (input)="LlenarCodigo(primeroFormGroup.value)">
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar la cédula de identidad o pasaporte del colaborador.">
                                        help_outline
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="d-flex flex-wrap justify-content-start">
                                <mat-form-field>
                                    <mat-label>Fecha de nacimiento</mat-label>
                                    <input matInput [matDatepicker]="picker" placeholder="dd/mm/aaaa"
                                        formControlName="fechaForm" required>
                                    <mat-datepicker-toggle matSuffix [for]="picker" id="i-cursor"
                                        matTooltipPosition="right"
                                        matTooltip="Seleccione la fecha de nacimiento dando click en el icono de calendario o puede escribir la fecha con el formato día/mes/año. Ejemplo: 12/04/1993">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker touchUi #picker></mat-datepicker>
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Correo electrónico</mat-label>
                                    <input matInput type="text" placeholder="ejemplo@mail.com"
                                        formControlName="emailForm" required>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar una dirección de correo electrónico.">
                                        mail_outline
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="d-flex flex-wrap justify-content-between float-right">
                    <button mat-raised-button id="btn-raised" matStepperNext class="float-right">Siguiente</button>
                </div>
            </mat-step>


            <mat-step [stepControl]="segundoFormGroup">
                <form [formGroup]="segundoFormGroup">
                    <ng-template matStepLabel>
                        <mat-icon id="seccion_emple" matSuffix matTooltipPosition="right"
                            matTooltip="Sección 2: Datos Personales">person_add
                        </mat-icon>
                    </ng-template>
                    <div class="subtitulo">
                        <span>Datos Personales</span>
                    </div>
                    <br>
                    <div class="nota">
                        <span>Por favor llenar todos los campos obligatorios (*) del formulario y dar click en Siguiente
                            para continuar.</span>
                    </div>
                    <div class="row">
                        <div class="col-md">
                            <div class="d-flex flex-wrap justify-content-between">
                                <mat-form-field>
                                    <mat-label>Domicilio</mat-label>
                                    <input matInput placeholder="Sector, Avenida, Calle" type="text"
                                        formControlName="domicilioForm" required>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingrese la dirección de domicilio en donde reside, Av, interseción, número de casa.">
                                        my_location
                                    </mat-icon>
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Teléfono</mat-label>
                                    <input matInput placeholder="0984297443" type="text" maxlength="10"
                                        formControlName="telefonoForm"
                                        oninput="if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                        (keypress)="IngresarSoloNumeros($event)" required>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Ingresar número telefónico convencional o celular.">phone
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="d-flex flex-wrap justify-content-between">
                                <mat-form-field>
                                    <mat-label>Estado civil</mat-label>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Seleccionar el estado civil del colaborador.">
                                        help_outline
                                    </mat-icon>
                                    <mat-select required formControlName="estadoCivilForm">
                                        <mat-option [value]="1">Soltero/a</mat-option>
                                        <mat-option [value]="2">Casado/a</mat-option>
                                        <mat-option [value]="3">Viudo/a</mat-option>
                                        <mat-option [value]="4">Divorciado/a</mat-option>
                                        <mat-option [value]="5">Unión de Hecho</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Género</mat-label>
                                    <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                        matTooltip="Seleccionar el género del colaborador.">
                                        help_outline
                                    </mat-icon>
                                    <mat-select required formControlName="generoForm">
                                        <mat-option [value]="1">Masculino</mat-option>
                                        <mat-option [value]="2">Femenino</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="d-flex flex-wrap justify-content-between">
                                <mat-form-field>
                                    <input type="text" placeholder="Nacionalidad" aria-label="Number" matInput
                                        [formControl]="NacionalidadControl" [matAutocomplete]="auto" required>
                                    <mat-autocomplete #auto="matAutocomplete">
                                        <mat-option *ngFor="let option of filteredOptions | async"
                                            [value]="option.nombre">
                                            {{option.nombre}}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <mat-icon matSuffix matTooltipPosition="right"
                                        matTooltip="Seleccionar la nacionalidad del colaborador.">help_outline
                                    </mat-icon>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </form>
                <div>
                    <button mat-raised-button id="btn-raised" matStepperPrevious class="float-left">Atrás</button>
                    <button mat-raised-button id="btn-raised" matStepperNext class="float-right">Siguiente</button>
                </div>
            </mat-step>


            <mat-step [stepControl]="terceroFormGroup">
                <form [formGroup]="terceroFormGroup">
                    <ng-template matStepLabel>
                        <mat-icon id="seccion_emple" matSuffix matTooltipPosition="right"
                            matTooltip="Sección 3: Datos de Usuario">
                            insert_emoticon
                        </mat-icon>
                    </ng-template>
                    <div class="subtitulo">
                        <span>Datos de Usuario</span>
                    </div>
                    <br>
                    <div class="nota">
                        <span>Llenar todos los campos obligatorios (*) del formulario y dar click en Guardar.</span>
                        <br>
                        <span>Recuerde estas son las credenciales que usará el empleado para ingresar al sistema y ver
                            su información.
                        </span>
                    </div>
                    <div class="d-flex flex-wrap justify-content-between">
                        <mat-form-field>
                            <mat-label>Seleccionar un rol</mat-label>
                            <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                matTooltip="Rol que el usuario tendrá en la navegación del sistema.">
                                help_outline
                            </mat-icon>
                            <mat-select required formControlName="rolForm">
                                <mat-option *ngFor="let r of roles" [value]="r.id">{{r.nombre}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Usuario</mat-label>
                            <input matInput placeholder="Ej: kevin.curay" formControlName="userForm" type="text"
                                required>
                            <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                matTooltip="Nombre usuario con el cual podrá ingresar al sistema.">
                                account_circle</mat-icon>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Contraseña</mat-label>
                            <input matInput placeholder="máximo 10 caracteres" [type]="hide ? 'password' : 'text'"
                                maxlength="10"
                                oninput="if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                formControlName="passForm" required>
                            <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                                [attr.aria-pressed]="hide">
                                <mat-icon id="i-cursor" matSuffix matTooltipPosition="right"
                                    matTooltip="Contraseña del usuario con la cual podrá ingresar al sistema.">
                                    {{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                            </button>
                        </mat-form-field>
                    </div>
                    <div style="text-align: center; padding-top: 15px;">
                        <button mat-raised-button id="btn-raised" matStepperPrevious class="float-left">Atrás</button>

                        <button button mat-raised-button id="btn-raised" (click)="stepper.reset()">Cancelar</button>

                        <button button mat-raised-button id="btn-raised" class="float-right"
                            (click)="InsertarEmpleado(primeroFormGroup.value, segundoFormGroup.value, terceroFormGroup.value);"
                            type="submit" [disabled]="!terceroFormGroup.valid">
                            Guardar
                        </button>
                    </div>
                </form>
            </mat-step>
        </mat-horizontal-stepper>
    </mat-card>
</div>