<button mat-mini-fab style="margin-right: 8px;" [matMenuTriggerFor]="menu" (click)="numeroNotificacion()">
    <mat-icon id="iconos-navegador" [matBadgeHidden]="estadoNotificacion" matBadge="{{num_noti_false}}"
        matBadgeColor="warn" style="margin-left: 8px;" matSuffix matTooltipPosition="right" matTooltip="Notificaciones">
        notifications
    </mat-icon>
</button>
<mat-menu #menu="matMenu" style="margin-right: 10px; height: 100px;">
    <div class="container" style="text-align: center;">
        <h4>Notificaciones</h4>
    </div>
    <div *ngIf="avisos.text !== 'Registro no encontrado'">
        <div *ngFor="let n of avisos">

            <!-- NOTIFICACIONES VISTAS -->
            <div *ngIf="n.visto == true" style="background: rgb(226, 226, 226);">

                <!-- NOTIFICACIONES DE PERMISOS -->
                <a *ngIf="n.id_vacaciones === null && n.id_hora_extra === null" mat-menu-item type="submit"
                    class="noti_menu">
                    <ul style="list-style: none; margin-left: -15%;" (click)="CambiarVistaNotificacion(n)">
                        <li style="font-size: 12px; margin-top: 3%;">
                            <b>Colaborador:</b> {{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>{{n.aviso}}</b>
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>{{n.usuario}}</b>
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>Desde:</b> {{n.mensaje.split('desde')[1].split('hasta')[0]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 0%;">
                            <b>Hasta:</b> {{n.mensaje.split('desde')[1].split('hasta')[1]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>Fecha:</b> {{n.fecha_}}
                            <b>&nbsp;&nbsp;Hora:</b> {{n.hora_}}
                        </li>
                    </ul>
                    <mat-divider class="divider"></mat-divider>
                </a>
                <!-- NOTIFICACIONES DE VACACIONES -->
                <a *ngIf="n.id_permiso === null && n.id_hora_extra === null" mat-menu-item type="submit"
                    class="noti_menu">
                    <ul style=" list-style: none; margin-left: -15%;" (click)="CambiarVistaNotificacion(n)">
                        <li style="font-size: 12px; margin-top: 3%;">
                            <b>Colaborador:</b> {{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>{{n.aviso}}</b>
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>{{n.usuario}}</b>
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>Desde:</b> {{n.mensaje.split('desde')[1].split('hasta')[0]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 0%;">
                            <b>Hasta:</b> {{n.mensaje.split('desde')[1].split('hasta')[1]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>Fecha:</b> {{n.fecha_}}
                            <b>&nbsp;&nbsp;Hora:</b> {{n.hora_}}
                        </li>
                    </ul>
                    <mat-divider class="divider"></mat-divider>
                </a>
                <!-- NOTIFICACIONES DE HORAS EXTRAS -->
                <a *ngIf="n.id_permiso === null && n.id_vacaciones === null" mat-menu-item type="submit"
                    class="noti_menu">
                    <ul style=" list-style: none; margin-left: -15%;" (click)="CambiarVistaNotificacion(n)">
                        <li style="font-size: 12px; margin-top: 3%;">
                            <b>Colaborador:</b> {{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>{{n.aviso}}</b>
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>{{n.usuario}}</b>
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>Desde:</b> {{n.mensaje.split('desde')[1].split('hasta')[0]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 0%;">
                            <b>Hasta:</b> {{n.mensaje.split('desde')[1].split('hasta')[1].split('horario')[0]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b> Horario: </b>
                            {{n.mensaje.split('desde')[1].split('hasta')[1].split('horario de')[1]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>Fecha:</b> {{n.fecha_}}
                            <b>&nbsp;&nbsp;Hora:</b> {{n.hora_}}
                        </li>
                    </ul>
                    <mat-divider class="divider"></mat-divider>
                </a>
            </div>

            <!-- NOTIFICACIONES NO VISTAS -->
            <div *ngIf="n.visto == false">
                <!-- NOTIFICACIONES DE PERMISOS -->
                <a style="background: rgb(250, 242, 138);" *ngIf="n.id_vacaciones === null && n.id_hora_extra === null"
                    mat-menu-item type="submit" class="noti_menu">
                    <ul style=" list-style: none; margin-left: -15%;" (click)="CambiarVistaNotificacion(n)">
                        <li style="font-size: 12px; margin-top: 3%;">
                            <b>Colaborador:</b> {{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>{{n.aviso}}</b>
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>{{n.usuario}}</b>
                        </li>
                        <li style="font-size: 11px; margin-top: 1%;">
                            <b>Desde:</b> {{n.mensaje.split('desde')[1].split('hasta')[0]}}
                        </li>
                        <li style="font-size: 11px; margin-top: 0%;">
                            <b>Hasta:</b> {{n.mensaje.split('desde')[1].split('hasta')[1]}}
                        </li>
                        <li style="font-size: 11x; margin-top: 1%;">
                            <b>Fecha:</b> {{n.fecha_}}
                            <b>&nbsp;&nbsp;Hora:</b> {{n.hora_}}
                        </li>
                    </ul>
                    <mat-divider class="divider"></mat-divider>
                </a>
                <!-- NOTIFICACIONES DE VACACIONES -->
                <a style="background: rgb(216, 249, 198);" *ngIf="n.id_permiso === null && n.id_hora_extra === null"
                    mat-menu-item type="submit" class="noti_menu">
                    <ul style=" list-style: none; margin-left: -15%;" (click)="CambiarVistaNotificacion(n)">
                        <li style="font-size: 12px; margin-top: 3%;">
                            <b>Colaborador:</b> {{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}
                        </li>
                        <li style="font-size: 12px; margin-top: 1%;">
                            <b>{{n.aviso}}</b>
                        </li>
                        <li style="font-size: 12px; margin-top: 1%;">
                            <b>{{n.usuario}}</b>
                        </li>
                        <li style="font-size: 12px; margin-top: 1%;;">
                            <b>Desde:</b> {{n.mensaje.split('desde')[1].split('hasta')[0]}}
                        </li>
                        <li style="font-size: 12px; margin-top: 0%;">
                            <b>Hasta:</b> {{n.mensaje.split('desde')[1].split('hasta')[1]}}
                        </li>
                        <li style="font-size: 12px; margin-top: 1%;">
                            <b>Fecha:</b> {{n.fecha_}}
                            <b>&nbsp;&nbsp;Hora:</b> {{n.hora_}}
                        </li>
                    </ul>
                    <mat-divider class="divider"></mat-divider>
                </a>
                <!-- NOTIFICACIONES DE HORAS EXTRAS -->
                <a style="background: rgb(210, 249, 242);" *ngIf="n.id_permiso === null && n.id_vacaciones === null"
                    mat-menu-item type="submit" class="noti_menu">
                    <ul style=" list-style: none; margin-left: -15%;" (click)="CambiarVistaNotificacion(n)">
                        <li style="font-size: 12px; margin-top: 3%;">
                            <b>Colaborador:</b> {{n.nombre.split(' ')[0]}} {{n.apellido.split(' ')[0]}}
                        </li>
                        <li style="font-size: 12px; margin-top: 1%;">
                            <b>{{n.aviso}}</b>
                        </li>
                        <li style="font-size: 12px; margin-top: 1%;">
                            <b>{{n.usuario}}</b>
                        </li>
                        <li style="font-size: 12px; margin-top: 1%;">
                            <b>Desde:</b> {{n.mensaje.split('desde')[1].split('hasta')[0]}}
                        </li>
                        <li style="font-size: 12px; margin-top: 0%;">
                            <b>Hasta:</b> {{n.mensaje.split('desde')[1].split('hasta')[1].split('horario')[0]}}
                        </li>
                        <li style="font-size: 12px; margin-top: 1%;">
                            <b> Horario: </b>
                            {{n.mensaje.split('desde')[1].split('hasta')[1].split('horario de')[1]}}
                        </li>
                        <li style="font-size: 12px; margin-top: 1;">
                            <b>Fecha:</b> {{n.fecha_}}
                            <b>&nbsp;&nbsp;Hora:</b> {{n.hora_}}
                        </li>
                    </ul>
                    <mat-divider class="divider"></mat-divider>
                </a>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center" *ngIf="loginService.getEstado() == estado">
        <a type="submit" [routerLink]="['/lista-notificaciones']" class="mostrar-noti">
            Mostrar todas las notificaciones
        </a>
    </div>
</mat-menu>